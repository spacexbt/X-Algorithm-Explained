<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X Algorithm Decoded | Phoenix System</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Syne:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #0a0a0b;
            --bg-card: #111114;
            --bg-elevated: #18181c;
            --accent-blue: #1d9bf0;
            --accent-green: #00ba7c;
            --accent-red: #f4212e;
            --accent-orange: #ff7a00;
            --accent-purple: #7856ff;
            --accent-gold: #ffd700;
            --text-primary: #e7e9ea;
            --text-secondary: #71767b;
            --text-muted: #536471;
            --border: #2f3336;
            --glow-blue: rgba(29, 155, 240, 0.4);
            --glow-green: rgba(0, 186, 124, 0.4);
            --glow-red: rgba(244, 33, 46, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Syne', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Animated background grid */
        .bg-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(29, 155, 240, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(29, 155, 240, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
            position: relative;
            z-index: 1;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 60px;
            position: relative;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, var(--glow-blue) 0%, transparent 70%);
            filter: blur(60px);
            opacity: 0.3;
            z-index: -1;
        }

        .logo {
            font-size: 80px;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -4px;
            margin-bottom: 10px;
            animation: pulse 3s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.2); }
        }

        .subtitle {
            font-family: 'Space Mono', monospace;
            color: var(--text-secondary);
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 4px;
            margin-bottom: 20px;
        }

        .tagline {
            font-size: 24px;
            color: var(--text-primary);
            font-weight: 500;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.4;
        }

        .tagline span {
            color: var(--accent-blue);
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 50px;
            flex-wrap: wrap;
        }

        .nav-tab {
            padding: 12px 24px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 100px;
            color: var(--text-secondary);
            font-family: 'Space Mono', monospace;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .nav-tab:hover {
            border-color: var(--accent-blue);
            color: var(--text-primary);
        }

        .nav-tab.active {
            background: var(--accent-blue);
            border-color: var(--accent-blue);
            color: white;
            box-shadow: 0 0 30px var(--glow-blue);
        }

        /* Sections */
        .section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Section Title */
        .section-title {
            font-size: 42px;
            font-weight: 700;
            margin-bottom: 15px;
            letter-spacing: -1px;
        }

        .section-desc {
            color: var(--text-secondary);
            font-size: 16px;
            margin-bottom: 40px;
            max-width: 700px;
        }

        /* Core Formula Card */
        .formula-card {
            background: linear-gradient(135deg, var(--bg-card) 0%, var(--bg-elevated) 100%);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 50px;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
        }

        .formula-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-blue), var(--accent-purple), var(--accent-green));
        }

        .formula {
            font-family: 'Space Mono', monospace;
            font-size: 28px;
            text-align: center;
            padding: 30px;
            background: var(--bg-dark);
            border-radius: 16px;
            border: 1px solid var(--border);
            margin-bottom: 30px;
        }

        .formula-main {
            color: var(--accent-gold);
        }

        .formula-explanation {
            text-align: center;
            color: var(--text-secondary);
            font-size: 16px;
            line-height: 1.6;
        }

        /* Engagement Weights Grid */
        .weights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .weight-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 25px;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
        }

        .weight-card:hover {
            transform: translateY(-5px) scale(1.02);
            border-color: var(--accent-blue);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .weight-card.positive {
            border-left: 4px solid var(--accent-green);
        }

        .weight-card.negative {
            border-left: 4px solid var(--accent-red);
        }

        .weight-card.neutral {
            border-left: 4px solid var(--accent-orange);
        }

        .weight-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .weight-icon {
            width: 50px;
            height: 50px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            background: var(--bg-elevated);
        }

        .weight-value {
            font-family: 'Space Mono', monospace;
            font-size: 32px;
            font-weight: 700;
        }

        .weight-value.positive { color: var(--accent-green); }
        .weight-value.negative { color: var(--accent-red); }
        .weight-value.neutral { color: var(--accent-orange); }

        .weight-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .weight-desc {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .weight-bar {
            height: 6px;
            background: var(--bg-elevated);
            border-radius: 3px;
            margin-top: 15px;
            overflow: hidden;
        }

        .weight-bar-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 1s ease-out;
            width: 0;
        }

        .weight-card.positive .weight-bar-fill {
            background: linear-gradient(90deg, var(--accent-green), var(--accent-blue));
        }

        .weight-card.negative .weight-bar-fill {
            background: linear-gradient(90deg, var(--accent-red), var(--accent-orange));
        }

        .weight-card.neutral .weight-bar-fill {
            background: linear-gradient(90deg, var(--accent-orange), var(--accent-gold));
        }

        /* Markov Chain Visualization */
        .markov-container {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 40px;
            margin-bottom: 40px;
            position: relative;
        }

        .markov-svg {
            width: 100%;
            height: 600px;
        }

        .state-node {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .state-node:hover {
            filter: brightness(1.2);
        }

        .state-label {
            font-family: 'Space Mono', monospace;
            font-size: 12px;
            fill: var(--text-primary);
            text-anchor: middle;
            pointer-events: none;
        }

        .state-sublabel {
            font-family: 'Syne', sans-serif;
            font-size: 10px;
            fill: var(--text-secondary);
            text-anchor: middle;
            pointer-events: none;
        }

        .transition-line {
            stroke: var(--border);
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead);
        }

        .transition-line.active {
            stroke: var(--accent-blue);
            stroke-width: 3;
            animation: flowAnimation 1.5s ease-in-out infinite;
        }

        @keyframes flowAnimation {
            0%, 100% { stroke-dashoffset: 0; }
            50% { stroke-dashoffset: 20; }
        }

        .probability-label {
            font-family: 'Space Mono', monospace;
            font-size: 11px;
            fill: var(--accent-blue);
        }

        /* State Info Panel */
        .state-info {
            position: absolute;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 20px;
            display: none;
        }

        .state-info.visible {
            display: block;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .state-info-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--accent-blue);
        }

        .state-info-content {
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.6;
        }

        /* Content Sources */
        .sources-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-bottom: 40px;
        }

        @media (max-width: 768px) {
            .sources-grid {
                grid-template-columns: 1fr;
            }
        }

        .source-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 35px;
            position: relative;
            overflow: hidden;
        }

        .source-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.05;
            pointer-events: none;
        }

        .source-card.thunder::before {
            background: linear-gradient(135deg, var(--accent-blue), transparent);
        }

        .source-card.phoenix::before {
            background: linear-gradient(135deg, var(--accent-purple), transparent);
        }

        .source-icon {
            width: 70px;
            height: 70px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            margin-bottom: 20px;
        }

        .source-card.thunder .source-icon {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
        }

        .source-card.phoenix .source-icon {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-red));
        }

        .source-name {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .source-type {
            font-family: 'Space Mono', monospace;
            font-size: 12px;
            color: var(--accent-blue);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 15px;
        }

        .source-desc {
            color: var(--text-secondary);
            font-size: 15px;
            line-height: 1.6;
        }

        /* Score Calculator */
        .calculator {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 40px;
            margin-bottom: 40px;
        }

        .calc-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .calc-title span {
            font-size: 28px;
        }

        .calc-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .calc-input-group {
            background: var(--bg-elevated);
            border-radius: 16px;
            padding: 20px;
        }

        .calc-label {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .calc-label-weight {
            font-family: 'Space Mono', monospace;
            color: var(--accent-blue);
            font-size: 11px;
        }

        .calc-input {
            width: 100%;
            padding: 12px 16px;
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text-primary);
            font-family: 'Space Mono', monospace;
            font-size: 18px;
            transition: all 0.3s ease;
        }

        .calc-input:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 3px var(--glow-blue);
        }

        .calc-result {
            background: linear-gradient(135deg, var(--bg-elevated), var(--bg-dark));
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            border: 1px solid var(--border);
        }

        .calc-result-label {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .calc-result-value {
            font-family: 'Space Mono', monospace;
            font-size: 56px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .calc-result-breakdown {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border);
            font-family: 'Space Mono', monospace;
            font-size: 12px;
            color: var(--text-secondary);
            text-align: left;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        .breakdown-row {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
        }

        .breakdown-row.positive { color: var(--accent-green); }
        .breakdown-row.negative { color: var(--accent-red); }

        /* Premium vs Free Comparison */
        .comparison-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            background: var(--bg-card);
            border-radius: 20px;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .comparison-table th,
        .comparison-table td {
            padding: 20px 25px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .comparison-table th {
            background: var(--bg-elevated);
            font-family: 'Space Mono', monospace;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--text-secondary);
        }

        .comparison-table th:nth-child(2) {
            background: linear-gradient(135deg, var(--accent-gold) 0%, #b8860b 100%);
            color: black;
        }

        .comparison-table td {
            font-size: 15px;
        }

        .comparison-table tr:last-child td {
            border-bottom: none;
        }

        .comparison-table td:nth-child(2) {
            color: var(--accent-gold);
            font-weight: 600;
        }

        .comparison-table td:nth-child(3) {
            color: var(--text-secondary);
        }

        /* Insights Cards */
        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .insight-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 30px;
            transition: all 0.3s ease;
        }

        .insight-card:hover {
            border-color: var(--accent-blue);
            transform: translateY(-3px);
        }

        .insight-number {
            font-family: 'Space Mono', monospace;
            font-size: 48px;
            font-weight: 700;
            color: var(--accent-blue);
            opacity: 0.3;
            line-height: 1;
            margin-bottom: 10px;
        }

        .insight-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .insight-content {
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.6;
        }

        .insight-highlight {
            color: var(--accent-green);
            font-weight: 600;
        }

        /* Tweepcred Score */
        .tweepcred-section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 40px;
            margin-top: 40px;
        }

        .tweepcred-meter {
            position: relative;
            height: 60px;
            background: var(--bg-elevated);
            border-radius: 30px;
            margin: 30px 0;
            overflow: hidden;
        }

        .tweepcred-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-red), var(--accent-orange), var(--accent-green));
            border-radius: 30px;
            transition: width 1s ease-out;
        }

        .tweepcred-marker {
            position: absolute;
            top: -25px;
            transform: translateX(-50%);
            font-family: 'Space Mono', monospace;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .tweepcred-marker.threshold {
            left: 65%;
            color: var(--accent-gold);
        }

        .tweepcred-marker.threshold::after {
            content: '';
            position: absolute;
            top: 20px;
            left: 50%;
            width: 2px;
            height: 60px;
            background: var(--accent-gold);
            transform: translateX(-50%);
        }

        .tweepcred-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        .tweepcred-label {
            font-family: 'Space Mono', monospace;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .tweepcred-factors {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }

        .tweepcred-factor {
            background: var(--bg-elevated);
            padding: 15px 20px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .tweepcred-factor-icon {
            font-size: 20px;
        }

        .tweepcred-factor-text {
            font-size: 13px;
            color: var(--text-secondary);
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 60px 20px;
            margin-top: 60px;
            border-top: 1px solid var(--border);
        }

        .footer-text {
            font-family: 'Space Mono', monospace;
            font-size: 12px;
            color: var(--text-muted);
        }

        .footer-link {
            color: var(--accent-blue);
            text-decoration: none;
        }

        .footer-link:hover {
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .logo {
                font-size: 50px;
            }

            .tagline {
                font-size: 18px;
            }

            .section-title {
                font-size: 28px;
            }

            .formula {
                font-size: 16px;
                padding: 20px;
            }

            .calc-result-value {
                font-size: 36px;
            }

            .markov-svg {
                height: 500px;
            }
        }

        /* Animated elements */
        .animate-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease-out;
        }

        .animate-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Interactive tooltip */
        .tooltip {
            position: fixed;
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 15px 20px;
            max-width: 300px;
            pointer-events: none;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.2s ease;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .tooltip.visible {
            opacity: 1;
        }

        .tooltip-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .tooltip-content {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="bg-grid"></div>
    <div class="tooltip" id="tooltip">
        <div class="tooltip-title"></div>
        <div class="tooltip-content"></div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="subtitle">Phoenix System ‚Ä¢ Open Source Algorithm</div>
            <h1 class="logo">X ALGORITHM</h1>
            <p class="tagline">The definitive guide to how X decides <span>what you see</span> ‚Äî and whether <span>anyone sees you</span></p>
        </header>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <button class="nav-tab active" data-section="overview">Overview</button>
            <button class="nav-tab" data-section="weights">Engagement Weights</button>
            <button class="nav-tab" data-section="markov">Post Lifecycle</button>
            <button class="nav-tab" data-section="sources">Content Sources</button>
            <button class="nav-tab" data-section="calculator">Score Calculator</button>
            <button class="nav-tab" data-section="insights">Key Insights</button>
        </nav>

        <!-- Overview Section -->
        <section class="section active" id="overview">
            <h2 class="section-title">The Core Formula</h2>
            <p class="section-desc">Every post competes for attention. The algorithm assigns each post a score based on predicted engagement. Higher score = shown to more people.</p>

            <div class="formula-card animate-in">
                <div class="formula">
                    <span class="formula-main">Post Score = Œ£ (weight √ó P(action))</span>
                </div>
                <p class="formula-explanation">
                    The algorithm predicts the probability you'll take each action (like, reply, repost, etc.),<br>
                    then multiplies each prediction by how much X values that action.<br>
                    <strong style="color: var(--accent-blue);">Conversations are king. Likes are almost worthless.</strong>
                </p>
            </div>

            <!-- Quick Stats -->
            <div class="weights-grid">
                <div class="weight-card positive animate-in" style="animation-delay: 0.1s">
                    <div class="weight-header">
                        <div class="weight-icon">üí¨</div>
                        <div class="weight-value positive">75√ó</div>
                    </div>
                    <div class="weight-name">Reply ‚Üí Reply Back</div>
                    <div class="weight-desc">When someone replies and the author replies back. This is the most valuable interaction.</div>
                    <div class="weight-bar"><div class="weight-bar-fill" data-width="100"></div></div>
                </div>

                <div class="weight-card positive animate-in" style="animation-delay: 0.2s">
                    <div class="weight-header">
                        <div class="weight-icon">üí≠</div>
                        <div class="weight-value positive">13.5√ó</div>
                    </div>
                    <div class="weight-name">Direct Reply</div>
                    <div class="weight-desc">When a user replies to your post. Worth 27√ó more than a like.</div>
                    <div class="weight-bar"><div class="weight-bar-fill" data-width="18"></div></div>
                </div>

                <div class="weight-card neutral animate-in" style="animation-delay: 0.3s">
                    <div class="weight-header">
                        <div class="weight-icon">‚ù§Ô∏è</div>
                        <div class="weight-value neutral">0.5√ó</div>
                    </div>
                    <div class="weight-name">Like</div>
                    <div class="weight-desc">Likes are almost worthless. They're vanity metrics that barely move the needle.</div>
                    <div class="weight-bar"><div class="weight-bar-fill" data-width="0.7"></div></div>
                </div>

                <div class="weight-card negative animate-in" style="animation-delay: 0.4s">
                    <div class="weight-header">
                        <div class="weight-icon">üö´</div>
                        <div class="weight-value negative">-369√ó</div>
                    </div>
                    <div class="weight-name">Report</div>
                    <div class="weight-desc">One report can destroy your reach. It wipes out 738 likes worth of positive signal.</div>
                    <div class="weight-bar"><div class="weight-bar-fill" data-width="100"></div></div>
                </div>
            </div>

            <!-- Premium Comparison -->
            <h3 style="font-size: 24px; margin: 40px 0 20px;">Premium vs Free Accounts</h3>
            <table class="comparison-table animate-in">
                <thead>
                    <tr>
                        <th>Feature</th>
                        <th>‚≠ê Premium</th>
                        <th>Free</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>In-network boost</td>
                        <td>4√ó</td>
                        <td>1√ó</td>
                    </tr>
                    <tr>
                        <td>Out-of-network boost</td>
                        <td>2√ó</td>
                        <td>1√ó</td>
                    </tr>
                    <tr>
                        <td>Link penalty</td>
                        <td>Reduced</td>
                        <td>Severe (30-50%)</td>
                    </tr>
                    <tr>
                        <td>Character limit</td>
                        <td>25,000</td>
                        <td>280</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Engagement Weights Section -->
        <section class="section" id="weights">
            <h2 class="section-title">Engagement Weights</h2>
            <p class="section-desc">Not all engagement is equal. Here's exactly how much X values each action, extracted from the open-source algorithm.</p>

            <div class="weights-grid">
                <div class="weight-card positive animate-in" data-tooltip="reply-reply" style="animation-delay: 0.1s">
                    <div class="weight-header">
                        <div class="weight-icon">üí¨</div>
                        <div class="weight-value positive">+75√ó</div>
                    </div>
                    <div class="weight-name">Reply ‚Üí Author Replies</div>
                    <div class="weight-desc">Conversations are gold. When you reply and the author engages back, it's the highest value signal.</div>
                    <div class="weight-bar"><div class="weight-bar-fill" data-width="100"></div></div>
                </div>

                <div class="weight-card positive animate-in" data-tooltip="reply" style="animation-delay: 0.15s">
                    <div class="weight-header">
                        <div class="weight-icon">üí≠</div>
                        <div class="weight-value positive">+13.5√ó</div>
                    </div>
                    <div class="weight-name">User Replies</div>
                    <div class="weight-desc">Direct replies to your post. Worth significantly more than passive engagement.</div>
                    <div class="weight-bar"><div class="weight-bar-fill" data-width="18"></div></div>
                </div>

                <div class="weight-card positive animate-in" data-tooltip="profile" style="animation-delay: 0.2s">
                    <div class="weight-header">
                        <div class="weight-icon">üë§</div>
                        <div class="weight-value positive">+12√ó</div>
                    </div>
                    <div class="weight-name">Profile Click ‚Üí Engage</div>
                    <div class="weight-desc">When someone clicks your profile then likes or replies. Deep engagement signal.</div>
                    <div class="weight-bar"><div class="weight-bar-fill" data-width="16"></div></div>
                </div>

                <div class="weight-card positive animate-in" data-tooltip="thread" style="animation-delay: 0.25s">
                    <div class="weight-header">
                        <div class="weight-icon">üßµ</div>
                        <div class="weight-value positive">+11√ó</div>
                    </div>
                    <div class="weight-name">Thread Click + Reply</div>
                    <div class="weight-desc">User clicks into the conversation and participates.</div>
                    <div class="weight-bar"><div class="weight-bar-fill" data-width="14.7"></div></div>
                </div>

                <div class="weight-card positive animate-in" data-tooltip="dwell" style="animation-delay: 0.3s">
                    <div class="weight-header">
                        <div class="weight-icon">‚è±Ô∏è</div>
                        <div class="weight-value positive">+10√ó</div>
                    </div>
                    <div class="weight-name">Dwell Time (2+ min)</div>
                    <div class="weight-desc">Staying in a thread for 2+ minutes. Defense against clickbait.</div>
                    <div class="weight-bar"><div class="weight-bar-fill" data-width="13.3"></div></div>
                </div>

                <div class="weight-card positive animate-in" data-tooltip="retweet" style="animation-delay: 0.35s">
                    <div class="weight-header">
                        <div class="weight-icon">üîÑ</div>
                        <div class="weight-value positive">+1√ó</div>
                    </div>
                    <div class="weight-name">Retweet</div>
                    <div class="weight-desc">Baseline amplification. Surprisingly low value compared to replies.</div>
                    <div class="weight-bar"><div class="weight-bar-fill" data-width="1.3"></div></div>
                </div>

                <div class="weight-card neutral animate-in" data-tooltip="like" style="animation-delay: 0.4s">
                    <div class="weight-header">
                        <div class="weight-icon">‚ù§Ô∏è</div>
                        <div class="weight-value neutral">+0.5√ó</div>
                    </div>
                    <div class="weight-name">Like</div>
                    <div class="weight-desc">Almost worthless. Pure vanity metric that barely moves the algorithmic needle.</div>
                    <div class="weight-bar"><div class="weight-bar-fill" data-width="0.7"></div></div>
                </div>

                <div class="weight-card neutral animate-in" data-tooltip="video" style="animation-delay: 0.45s">
                    <div class="weight-header">
                        <div class="weight-icon">üé¨</div>
                        <div class="weight-value neutral">+0.005√ó</div>
                    </div>
                    <div class="weight-name">Video 50% Watch</div>
                    <div class="weight-desc">Watching half a video. Video completion rate has minimal direct weight.</div>
                    <div class="weight-bar"><div class="weight-bar-fill" data-width="0.01"></div></div>
                </div>

                <div class="weight-card negative animate-in" data-tooltip="block" style="animation-delay: 0.5s">
                    <div class="weight-header">
                        <div class="weight-icon">üîá</div>
                        <div class="weight-value negative">-74√ó</div>
                    </div>
                    <div class="weight-name">Block / Mute</div>
                    <div class="weight-desc">One block wipes out 148 likes. Avoid pissing people off.</div>
                    <div class="weight-bar"><div class="weight-bar-fill" data-width="20"></div></div>
                </div>

                <div class="weight-card negative animate-in" data-tooltip="report" style="animation-delay: 0.55s">
                    <div class="weight-header">
                        <div class="weight-icon">‚ö†Ô∏è</div>
                        <div class="weight-value negative">-369√ó</div>
                    </div>
                    <div class="weight-name">Report</div>
                    <div class="weight-desc">Catastrophic. One report destroys 738 likes worth of signal. Be careful.</div>
                    <div class="weight-bar"><div class="weight-bar-fill" data-width="100"></div></div>
                </div>
            </div>
        </section>

        <!-- Markov Chain Section -->
        <section class="section" id="markov">
            <h2 class="section-title">Post Lifecycle</h2>
            <p class="section-desc">How your post moves through the algorithm's state machine. The first 30 minutes are make-or-break.</p>

            <div class="markov-container">
                <svg class="markov-svg" viewBox="0 0 1000 550">
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#71767b"/>
                        </marker>
                        <marker id="arrowhead-active" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#1d9bf0"/>
                        </marker>
                        <linearGradient id="grad-drafted" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#536471"/>
                            <stop offset="100%" style="stop-color:#3a3f44"/>
                        </linearGradient>
                        <linearGradient id="grad-initial" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#1d9bf0"/>
                            <stop offset="100%" style="stop-color:#0c7abf"/>
                        </linearGradient>
                        <linearGradient id="grad-dead" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#f4212e"/>
                            <stop offset="100%" style="stop-color:#b91c1c"/>
                        </linearGradient>
                        <linearGradient id="grad-moderate" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#ff7a00"/>
                            <stop offset="100%" style="stop-color:#c55d00"/>
                        </linearGradient>
                        <linearGradient id="grad-viral" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#00ba7c"/>
                            <stop offset="100%" style="stop-color:#00875a"/>
                        </linearGradient>
                        <linearGradient id="grad-amplify" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#7856ff"/>
                            <stop offset="100%" style="stop-color:#5b3dbf"/>
                        </linearGradient>
                        <filter id="glow">
                            <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                            <feMerge>
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                    </defs>

                    <!-- Transition lines -->
                    <!-- Drafted to Initial -->
                    <path d="M 180 275 L 320 275" class="transition-line" stroke-dasharray="5,5"/>
                    
                    <!-- Initial to Dead -->
                    <path d="M 420 320 C 420 380 280 400 280 420" class="transition-line"/>
                    <text x="310" y="370" class="probability-label">~70%</text>
                    
                    <!-- Initial to Moderate -->
                    <path d="M 450 320 L 500 380" class="transition-line"/>
                    <text x="430" y="370" class="probability-label">~25%</text>
                    
                    <!-- Initial to Viral -->
                    <path d="M 480 320 C 520 340 620 360 680 380" class="transition-line"/>
                    <text x="560" y="340" class="probability-label">~5%</text>

                    <!-- Moderate to Steady -->
                    <path d="M 500 470 L 500 500" class="transition-line"/>
                    
                    <!-- Viral to Amplification -->
                    <path d="M 720 470 L 720 500" class="transition-line" id="viral-amplify"/>

                    <!-- Amplification feedback loop -->
                    <path d="M 820 530 C 900 530 920 400 920 275 C 920 150 800 150 500 180 L 420 230" class="transition-line" stroke-dasharray="8,4" id="feedback-loop"/>
                    <text x="870" y="400" class="probability-label" style="fill: #7856ff">feedback</text>
                    <text x="870" y="415" class="probability-label" style="fill: #7856ff">loop</text>

                    <!-- State Nodes -->
                    <!-- Drafted -->
                    <g class="state-node" data-state="drafted">
                        <rect x="60" y="235" width="120" height="80" rx="15" fill="url(#grad-drafted)"/>
                        <text x="120" y="270" class="state-label">DRAFTED</text>
                        <text x="120" y="290" class="state-sublabel">Write your post</text>
                    </g>

                    <!-- Initial Push -->
                    <g class="state-node" data-state="initial">
                        <rect x="320" y="215" width="160" height="100" rx="20" fill="url(#grad-initial)" filter="url(#glow)"/>
                        <text x="400" y="255" class="state-label">INITIAL PUSH</text>
                        <text x="400" y="275" class="state-sublabel">First 30 minutes</text>
                        <text x="400" y="295" class="state-sublabel" style="fill: #ffd700">‚ö° CRITICAL</text>
                    </g>

                    <!-- Dead -->
                    <g class="state-node" data-state="dead">
                        <rect x="200" y="420" width="140" height="80" rx="15" fill="url(#grad-dead)"/>
                        <text x="270" y="455" class="state-label">DEAD</text>
                        <text x="270" y="475" class="state-sublabel">No engagement</text>
                    </g>

                    <!-- Moderate -->
                    <g class="state-node" data-state="moderate">
                        <rect x="420" y="400" width="160" height="80" rx="15" fill="url(#grad-moderate)"/>
                        <text x="500" y="435" class="state-label">MODERATE</text>
                        <text x="500" y="455" class="state-sublabel">Some traction</text>
                    </g>

                    <!-- Viral -->
                    <g class="state-node" data-state="viral">
                        <rect x="640" y="400" width="160" height="80" rx="15" fill="url(#grad-viral)" filter="url(#glow)"/>
                        <text x="720" y="435" class="state-label">VIRAL</text>
                        <text x="720" y="455" class="state-sublabel">Multiple replies</text>
                    </g>

                    <!-- Steady Reach -->
                    <g class="state-node" data-state="steady">
                        <rect x="420" y="510" width="160" height="60" rx="12" fill="#2f3336" stroke="#ff7a00" stroke-width="2"/>
                        <text x="500" y="545" class="state-label" style="font-size: 11px">STEADY REACH</text>
                    </g>

                    <!-- Algorithmic Amplification -->
                    <g class="state-node" data-state="amplify">
                        <rect x="620" y="510" width="200" height="60" rx="12" fill="url(#grad-amplify)" filter="url(#glow)"/>
                        <text x="720" y="535" class="state-label" style="font-size: 11px">ALGORITHMIC</text>
                        <text x="720" y="550" class="state-label" style="font-size: 11px">AMPLIFICATION</text>
                    </g>

                    <!-- Legend -->
                    <g transform="translate(50, 50)">
                        <text x="0" y="0" style="fill: #e7e9ea; font-family: 'Syne', sans-serif; font-size: 14px; font-weight: 600">State Legend</text>
                        <circle cx="10" cy="25" r="6" fill="#536471"/>
                        <text x="25" y="29" style="fill: #71767b; font-size: 11px">Inactive</text>
                        <circle cx="10" cy="45" r="6" fill="#1d9bf0"/>
                        <text x="25" y="49" style="fill: #71767b; font-size: 11px">Testing</text>
                        <circle cx="10" cy="65" r="6" fill="#f4212e"/>
                        <text x="25" y="69" style="fill: #71767b; font-size: 11px">Failed</text>
                        <circle cx="10" cy="85" r="6" fill="#ff7a00"/>
                        <text x="25" y="89" style="fill: #71767b; font-size: 11px">Growing</text>
                        <circle cx="10" cy="105" r="6" fill="#00ba7c"/>
                        <text x="25" y="109" style="fill: #71767b; font-size: 11px">Succeeding</text>
                        <circle cx="10" cy="125" r="6" fill="#7856ff"/>
                        <text x="25" y="129" style="fill: #71767b; font-size: 11px">Amplified</text>
                    </g>
                </svg>

                <div class="state-info" id="state-info">
                    <div class="state-info-title" id="state-info-title">State Details</div>
                    <div class="state-info-content" id="state-info-content">Click on any state to see details.</div>
                </div>
            </div>
        </section>

        <!-- Content Sources Section -->
        <section class="section" id="sources">
            <h2 class="section-title">Content Sources</h2>
            <p class="section-desc">X pulls posts from two distinct systems that compete for the same feed space.</p>

            <div class="sources-grid">
                <div class="source-card thunder animate-in">
                    <div class="source-icon">‚ö°</div>
                    <div class="source-name">Thunder</div>
                    <div class="source-type">In-Network</div>
                    <div class="source-desc">
                        Posts from people you follow. Stored in real-time memory for instant retrieval. 
                        This is your core feed ‚Äî the people you've chosen to follow.
                        <br><br>
                        <strong style="color: var(--accent-blue)">Premium accounts get a 4√ó boost</strong> for Thunder content.
                    </div>
                </div>

                <div class="source-card phoenix animate-in" style="animation-delay: 0.2s">
                    <div class="source-icon">üî•</div>
                    <div class="source-name">Phoenix</div>
                    <div class="source-type">Out-of-Network</div>
                    <div class="source-desc">
                        Posts from people you DON'T follow, discovered by Grok AI based on your interests 
                        and engagement history. This is how you discover new content.
                        <br><br>
                        <strong style="color: var(--accent-purple)">~50% of "For You"</strong> comes from Phoenix retrieval.
                    </div>
                </div>
            </div>

            <!-- Tweepcred Score -->
            <div class="tweepcred-section animate-in">
                <h3 style="font-size: 24px; margin-bottom: 10px;">TweepCred Score</h3>
                <p style="color: var(--text-secondary); margin-bottom: 20px;">
                    X assigns each account a credibility score (0-1) that affects distribution eligibility.
                </p>

                <div class="tweepcred-meter">
                    <div class="tweepcred-fill" style="width: 75%"></div>
                    <div class="tweepcred-marker threshold">
                        0.65 threshold
                    </div>
                </div>

                <div class="tweepcred-labels">
                    <span class="tweepcred-label">0.0 ‚Äî Limited reach</span>
                    <span class="tweepcred-label">1.0 ‚Äî Full distribution</span>
                </div>

                <div style="margin-top: 25px; padding: 20px; background: var(--bg-elevated); border-radius: 12px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div>
                            <div style="color: var(--accent-red); font-weight: 600; margin-bottom: 8px;">Below 0.65</div>
                            <div style="color: var(--text-secondary); font-size: 14px;">Only your 3 best tweets per day get full distribution</div>
                        </div>
                        <div>
                            <div style="color: var(--accent-green); font-weight: 600; margin-bottom: 8px;">Above 0.65</div>
                            <div style="color: var(--text-secondary); font-size: 14px;">All tweets eligible for full distribution</div>
                        </div>
                    </div>
                </div>

                <div class="tweepcred-factors">
                    <div class="tweepcred-factor">
                        <div class="tweepcred-factor-icon">üìÖ</div>
                        <div class="tweepcred-factor-text">Account age</div>
                    </div>
                    <div class="tweepcred-factor">
                        <div class="tweepcred-factor-icon">üìä</div>
                        <div class="tweepcred-factor-text">Follower/following ratio</div>
                    </div>
                    <div class="tweepcred-factor">
                        <div class="tweepcred-factor-icon">üìà</div>
                        <div class="tweepcred-factor-text">Engagement history</div>
                    </div>
                    <div class="tweepcred-factor">
                        <div class="tweepcred-factor-icon">‚ö†Ô∏è</div>
                        <div class="tweepcred-factor-text">Policy violations</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Calculator Section -->
        <section class="section" id="calculator">
            <h2 class="section-title">Score Calculator</h2>
            <p class="section-desc">Estimate your post's algorithmic score based on engagement. See exactly how much each interaction contributes.</p>

            <div class="calculator">
                <div class="calc-title"><span>üßÆ</span> Post Score Estimator</div>
                
                <div class="calc-inputs">
                    <div class="calc-input-group">
                        <label class="calc-label">
                            üí¨ Reply Chains <span class="calc-label-weight">(√ó75)</span>
                        </label>
                        <input type="number" class="calc-input" id="calc-reply-chains" value="0" min="0" onchange="calculateScore()">
                    </div>
                    <div class="calc-input-group">
                        <label class="calc-label">
                            üí≠ Direct Replies <span class="calc-label-weight">(√ó13.5)</span>
                        </label>
                        <input type="number" class="calc-input" id="calc-replies" value="0" min="0" onchange="calculateScore()">
                    </div>
                    <div class="calc-input-group">
                        <label class="calc-label">
                            üë§ Profile Clicks <span class="calc-label-weight">(√ó12)</span>
                        </label>
                        <input type="number" class="calc-input" id="calc-profile" value="0" min="0" onchange="calculateScore()">
                    </div>
                    <div class="calc-input-group">
                        <label class="calc-label">
                            üßµ Thread Engagement <span class="calc-label-weight">(√ó11)</span>
                        </label>
                        <input type="number" class="calc-input" id="calc-thread" value="0" min="0" onchange="calculateScore()">
                    </div>
                    <div class="calc-input-group">
                        <label class="calc-label">
                            ‚è±Ô∏è 2min+ Dwells <span class="calc-label-weight">(√ó10)</span>
                        </label>
                        <input type="number" class="calc-input" id="calc-dwell" value="0" min="0" onchange="calculateScore()">
                    </div>
                    <div class="calc-input-group">
                        <label class="calc-label">
                            üîÑ Retweets <span class="calc-label-weight">(√ó1)</span>
                        </label>
                        <input type="number" class="calc-input" id="calc-retweets" value="0" min="0" onchange="calculateScore()">
                    </div>
                    <div class="calc-input-group">
                        <label class="calc-label">
                            ‚ù§Ô∏è Likes <span class="calc-label-weight">(√ó0.5)</span>
                        </label>
                        <input type="number" class="calc-input" id="calc-likes" value="0" min="0" onchange="calculateScore()">
                    </div>
                    <div class="calc-input-group">
                        <label class="calc-label">
                            üîá Blocks/Mutes <span class="calc-label-weight">(√ó-74)</span>
                        </label>
                        <input type="number" class="calc-input" id="calc-blocks" value="0" min="0" onchange="calculateScore()">
                    </div>
                    <div class="calc-input-group">
                        <label class="calc-label">
                            ‚ö†Ô∏è Reports <span class="calc-label-weight">(√ó-369)</span>
                        </label>
                        <input type="number" class="calc-input" id="calc-reports" value="0" min="0" onchange="calculateScore()">
                    </div>
                </div>

                <div class="calc-result">
                    <div class="calc-result-label">Estimated Score</div>
                    <div class="calc-result-value" id="calc-total">0</div>
                    <div class="calc-result-breakdown" id="calc-breakdown"></div>
                </div>
            </div>
        </section>

        <!-- Insights Section -->
        <section class="section" id="insights">
            <h2 class="section-title">Key Insights</h2>
            <p class="section-desc">The most important takeaways from the X algorithm for maximizing your reach.</p>

            <div class="insights-grid">
                <div class="insight-card animate-in">
                    <div class="insight-number">01</div>
                    <div class="insight-title">Replies > Everything</div>
                    <div class="insight-content">
                        The <span class="insight-highlight">75√ó weight</span> on reply-to-reply chains is insane. 
                        A post that sparks conversation outperforms a post with 100√ó more likes. 
                        Engineer conversations, not just content.
                    </div>
                </div>

                <div class="insight-card animate-in" style="animation-delay: 0.1s">
                    <div class="insight-number">02</div>
                    <div class="insight-title">First 30 Minutes</div>
                    <div class="insight-content">
                        Early engagement signals "quality" to the algorithm. 
                        A post that sits dormant gets buried. Post when your audience is active, 
                        and engage with every reply immediately.
                    </div>
                </div>

                <div class="insight-card animate-in" style="animation-delay: 0.2s">
                    <div class="insight-number">03</div>
                    <div class="insight-title">Negative = Catastrophic</div>
                    <div class="insight-content">
                        One block (<span class="insight-highlight">-74√ó</span>) wipes out 148 likes. 
                        One report (<span class="insight-highlight">-369√ó</span>) wipes out 738 likes. 
                        Don't piss people off ‚Äî it's algorithmically devastating.
                    </div>
                </div>

                <div class="insight-card animate-in" style="animation-delay: 0.3s">
                    <div class="insight-number">04</div>
                    <div class="insight-title">Likes Are Worthless</div>
                    <div class="insight-content">
                        At <span class="insight-highlight">0.5√ó weight</span>, likes barely move the needle. 
                        They're vanity metrics. Stop optimizing for likes ‚Äî optimize for replies and conversations instead.
                    </div>
                </div>

                <div class="insight-card animate-in" style="animation-delay: 0.4s">
                    <div class="insight-number">05</div>
                    <div class="insight-title">Video Gets Boosted</div>
                    <div class="insight-content">
                        Native video gets <span class="insight-highlight">2-4√ó more reach</span> than text/images. 
                        Optimal format: vertical, 15-60 seconds, with captions. 
                        The algorithm wants to compete with TikTok.
                    </div>
                </div>

                <div class="insight-card animate-in" style="animation-delay: 0.5s">
                    <div class="insight-number">06</div>
                    <div class="insight-title">Links Are Punished</div>
                    <div class="insight-content">
                        External links get a <span class="insight-highlight">30-50% reach penalty</span>. 
                        X wants to keep you on platform. Workaround: put links in the first reply, not the main post.
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p class="footer-text">
                Based on X's open-source algorithm (Phoenix System) ‚Ä¢ 
                <a href="https://github.com/twitter/the-algorithm" class="footer-link" target="_blank">View Source Code</a>
            </p>
        </footer>
    </div>

    <script>
        // Navigation
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                
                tab.classList.add('active');
                document.getElementById(tab.dataset.section).classList.add('active');
                
                // Trigger animations
                setTimeout(() => {
                    document.querySelectorAll('.animate-in').forEach(el => {
                        el.classList.add('visible');
                    });
                    animateWeightBars();
                }, 100);
            });
        });

        // Animate weight bars
        function animateWeightBars() {
            document.querySelectorAll('.weight-bar-fill').forEach(bar => {
                const width = bar.dataset.width;
                setTimeout(() => {
                    bar.style.width = width + '%';
                }, 300);
            });
        }

        // Initial animation
        setTimeout(() => {
            document.querySelectorAll('.animate-in').forEach(el => {
                el.classList.add('visible');
            });
            animateWeightBars();
        }, 300);

        // Calculator
        function calculateScore() {
            const replyChains = parseInt(document.getElementById('calc-reply-chains').value) || 0;
            const replies = parseInt(document.getElementById('calc-replies').value) || 0;
            const profile = parseInt(document.getElementById('calc-profile').value) || 0;
            const thread = parseInt(document.getElementById('calc-thread').value) || 0;
            const dwell = parseInt(document.getElementById('calc-dwell').value) || 0;
            const retweets = parseInt(document.getElementById('calc-retweets').value) || 0;
            const likes = parseInt(document.getElementById('calc-likes').value) || 0;
            const blocks = parseInt(document.getElementById('calc-blocks').value) || 0;
            const reports = parseInt(document.getElementById('calc-reports').value) || 0;

            const scores = {
                replyChains: replyChains * 75,
                replies: replies * 13.5,
                profile: profile * 12,
                thread: thread * 11,
                dwell: dwell * 10,
                retweets: retweets * 1,
                likes: likes * 0.5,
                blocks: blocks * -74,
                reports: reports * -369
            };

            const total = Object.values(scores).reduce((a, b) => a + b, 0);
            
            document.getElementById('calc-total').textContent = total.toFixed(1);

            // Build breakdown
            let breakdown = '';
            if (replyChains > 0) breakdown += `<div class="breakdown-row positive">Reply chains (${replyChains} √ó 75): +${scores.replyChains}</div>`;
            if (replies > 0) breakdown += `<div class="breakdown-row positive">Replies (${replies} √ó 13.5): +${scores.replies}</div>`;
            if (profile > 0) breakdown += `<div class="breakdown-row positive">Profile clicks (${profile} √ó 12): +${scores.profile}</div>`;
            if (thread > 0) breakdown += `<div class="breakdown-row positive">Thread engagement (${thread} √ó 11): +${scores.thread}</div>`;
            if (dwell > 0) breakdown += `<div class="breakdown-row positive">2min+ dwells (${dwell} √ó 10): +${scores.dwell}</div>`;
            if (retweets > 0) breakdown += `<div class="breakdown-row positive">Retweets (${retweets} √ó 1): +${scores.retweets}</div>`;
            if (likes > 0) breakdown += `<div class="breakdown-row positive">Likes (${likes} √ó 0.5): +${scores.likes}</div>`;
            if (blocks > 0) breakdown += `<div class="breakdown-row negative">Blocks (${blocks} √ó -74): ${scores.blocks}</div>`;
            if (reports > 0) breakdown += `<div class="breakdown-row negative">Reports (${reports} √ó -369): ${scores.reports}</div>`;

            document.getElementById('calc-breakdown').innerHTML = breakdown;
        }

        // Markov state info
        const stateInfo = {
            drafted: {
                title: 'üìù DRAFTED',
                content: 'Your post exists but hasn\'t entered the algorithm yet. Once you hit publish, it moves to Initial Push and the clock starts ticking.'
            },
            initial: {
                title: '‚ö° INITIAL PUSH (Critical!)',
                content: 'The first 30 minutes after posting. X shows your post to a small test audience (your followers + some out-of-network users). Early engagement in this window determines everything that follows.'
            },
            dead: {
                title: 'üíÄ DEAD (70% of posts)',
                content: 'No meaningful engagement in the first 30 minutes. The post gets minimal further distribution and effectively dies. This is where most posts end up.'
            },
            moderate: {
                title: 'üü† MODERATE TRACTION (25% of posts)',
                content: 'Some likes, maybe a reply or two. Extended reach to more of your followers, but limited out-of-network distribution. Steady but not viral.'
            },
            viral: {
                title: 'üü¢ VIRAL TRACTION (5% of posts)',
                content: 'Multiple replies, especially reply chains. Gets pushed to out-of-network "For You" feeds. This is where real growth happens.'
            },
            steady: {
                title: 'üìä STEADY REACH',
                content: 'Consistent but limited distribution. Good for maintaining audience connection, but won\'t bring massive new followers.'
            },
            amplify: {
                title: 'üöÄ ALGORITHMIC AMPLIFICATION',
                content: 'The feedback loop kicks in! Reply chains (75√ó multiplier) create more reach ‚Üí more replies ‚Üí more reach. Posts can re-enter this state multiple times, creating viral potential.'
            }
        };

        document.querySelectorAll('.state-node').forEach(node => {
            node.addEventListener('click', () => {
                const state = node.dataset.state;
                const info = stateInfo[state];
                
                document.getElementById('state-info-title').textContent = info.title;
                document.getElementById('state-info-content').textContent = info.content;
                document.getElementById('state-info').classList.add('visible');
            });
        });

        // Tooltip functionality
        const tooltip = document.getElementById('tooltip');
        const tooltipData = {
            'reply-reply': {
                title: 'Reply ‚Üí Author Reply Back',
                content: 'The most valuable interaction. When someone replies to your post and you reply back, it creates a conversation that the algorithm LOVES. This is 150√ó more valuable than a like.'
            },
            'reply': {
                title: 'Direct Replies',
                content: 'When a user takes the time to reply to your post. Worth 27√ó more than a like. This is why asking questions in your posts is so effective.'
            },
            'profile': {
                title: 'Profile Click ‚Üí Engagement',
                content: 'Deep interest signal. Someone was interested enough to check out your profile, then engaged with more content. Shows genuine interest in you as a creator.'
            },
            'thread': {
                title: 'Thread Participation',
                content: 'User clicks into the thread and participates in the conversation. Shows they\'re invested in the discussion, not just scrolling past.'
            },
            'dwell': {
                title: 'Dwell Time (2+ minutes)',
                content: 'Defense against clickbait. If users click into your thread but leave quickly, it doesn\'t count. You need to keep them engaged for at least 2 minutes.'
            },
            'retweet': {
                title: 'Retweets',
                content: 'Surprisingly low value. The algorithm seems to care more about conversations than amplification. Still useful for reach, but not the main driver.'
            },
            'like': {
                title: 'Likes',
                content: 'Almost worthless algorithmically. They\'re vanity metrics that make you feel good but don\'t actually drive reach. Stop optimizing for likes.'
            },
            'video': {
                title: 'Video Completion',
                content: 'Watching 50% of a video. The weight is surprisingly low despite X pushing video. Quality of engagement matters more than video consumption.'
            },
            'block': {
                title: 'Block/Mute',
                content: 'Catastrophic negative signal. One block wipes out the algorithmic value of 148 likes. Be careful not to piss off your audience.'
            },
            'report': {
                title: 'Reports',
                content: 'The worst thing that can happen to your post. One report destroys 738 likes worth of positive signal. Multiple reports can tank your account\'s TweepCred score.'
            }
        };

        document.querySelectorAll('.weight-card[data-tooltip]').forEach(card => {
            card.addEventListener('mouseenter', (e) => {
                const data = tooltipData[card.dataset.tooltip];
                if (data) {
                    tooltip.querySelector('.tooltip-title').textContent = data.title;
                    tooltip.querySelector('.tooltip-content').textContent = data.content;
                    tooltip.classList.add('visible');
                }
            });

            card.addEventListener('mousemove', (e) => {
                tooltip.style.left = (e.clientX + 15) + 'px';
                tooltip.style.top = (e.clientY + 15) + 'px';
            });

            card.addEventListener('mouseleave', () => {
                tooltip.classList.remove('visible');
            });
        });

        // Animate feedback loop on hover
        document.getElementById('feedback-loop')?.addEventListener('mouseenter', function() {
            this.style.stroke = '#7856ff';
            this.style.strokeWidth = '3';
        });

        document.getElementById('feedback-loop')?.addEventListener('mouseleave', function() {
            this.style.stroke = '#2f3336';
            this.style.strokeWidth = '2';
        });

        // Initialize calculator
        calculateScore();
    </script>
</body>
</html>